{% extends "base.html" %}

{% block title %}–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è - –õ–∞–Ω–¥—ã—à{% endblock %}

{% block content %}
<div style="max-width: 420px; margin: 3rem auto; padding: 2rem; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
    <div style="text-align: center; margin-bottom: 1.5rem;">
        <div style="font-size: 3rem; margin-bottom: 0.5rem;">üîê</div>
        <h2 style="color: var(--primary-color); margin: 0;">–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>
        <p style="color: #666; margin-top: 0.5rem;">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –≤—ã —Å–º–µ–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å</p>
    </div>
    
    {% if subject_to_policy and policy_info %}
    <div style="background: #e7f3ff; border: 1px solid #b3d9ff; border-radius: 4px; padding: 1rem; margin-bottom: 1.5rem;">
        <div style="font-weight: 600; margin-bottom: 0.5rem; color: #004085;">üìã –ù–∞ –≤–∞—Å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞ –ø–∞—Ä–æ–ª—å–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏:</div>
        <ul style="margin: 0.5rem 0 0 0; padding-left: 1.5rem; color: #004085;">
            <li>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è: <strong>{{ policy_info.min_length }} —Å–∏–º–≤–æ–ª–æ–≤</strong></li>
            <li>–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è: <strong>{{ policy_info.complexity }}</strong></li>
        </ul>
    </div>
    {% elif not subject_to_policy %}
    <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 4px; padding: 1rem; margin-bottom: 1.5rem;">
        <div style="font-weight: 600; margin-bottom: 0.5rem; color: #856404;">‚ÑπÔ∏è –ü–∞—Ä–æ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</div>
        <p style="margin: 0; color: #856404; font-size: 0.9rem;">–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –ª—é–±–æ–π –¥–ª–∏–Ω—ã –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.</p>
    </div>
    {% endif %}
    
    {% if form.errors %}
    <div style="background: #f8d7da; color: #721c24; padding: 0.75rem 1rem; border-radius: 4px; margin-bottom: 1rem;">
        {% for error in form.non_field_errors %}
            {{ error }}
        {% endfor %}
        {% for field in form %}
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
        {% endfor %}
    </div>
    {% endif %}
    
    <form method="post">
        {% csrf_token %}
        
        <div style="margin-bottom: 1rem;">
            <label for="id_new_password1" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">
                –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
            </label>
            <input type="password" 
                   name="new_password1" 
                   id="id_new_password1" 
                   required 
                   {% if subject_to_policy and policy_info %}minlength="{{ policy_info.min_length }}"{% else %}minlength="1"{% endif %}
                   placeholder="{% if subject_to_policy and policy_info %}–ú–∏–Ω–∏–º—É–º {{ policy_info.min_length }} —Å–∏–º–≤–æ–ª–æ–≤{% else %}–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å{% endif %}"
                   style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem; box-sizing: border-box;">
        </div>
        
        <div style="margin-bottom: 1.5rem;">
            <label for="id_new_password2" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">
                –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
            </label>
            <input type="password" 
                   name="new_password2" 
                   id="id_new_password2" 
                   required 
                   placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                   style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem; box-sizing: border-box;">
        </div>
        
        <button type="submit" style="width: 100%; padding: 0.85rem; background: var(--primary-color); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem; font-weight: 500; transition: opacity 0.2s;">
            –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
        </button>
    </form>
    
    <div style="text-align: center; margin-top: 1.5rem;">
        <a href="{% url 'logout' %}" style="color: #666; text-decoration: none; font-size: 0.9rem;">
            –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        </a>
    </div>
</div>
{% endblock %}

